<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="javadoc">
	
	<!-- Folder containing the source files -->
	<property name="src" location="src" />
	
	<!-- Folder containgin the class files -->
	<property name="bin" location="bin" />
	
	<!-- Folder containing the javadoc files -->
	<property name="doc" location="doc" />
	
	<!-- Location of the jar containing the extra OGP taglets -->
	<property name="ogpdoc" location="../ogpdoc.jar" />
	
	<property name="junit.location" location="/usr/local/eclipse/plugins/org.junit4_4.3.1/junit.jar" />

	
	<path id="ogpdoc.path">
		<pathelement path="${ogpdoc}" />	
	</path>
	
	<path id="source.path">
		<fileset dir="${src}">
			<include name="**/*.java" />
			<exclude name="**/*Test*" />
		</fileset>
	</path>
	
	<path id="test.path">
		<fileset dir="${src}">
			<include name="**/*Test*.java" />
		</fileset>
	</path>
	
	<path id="junit.path">
		<pathelement path="${junit.location}" />
	</path>
	
	<target name="test">
		<junit>
			<classpath>
				<path refid="test.path" />
				<path refid="source.path" />
				<path refid="junit.path" />
			</classpath>
			
			<batchtest>
				<path refid="test.path" />
			</batchtest>
		</junit>
	</target>
    
	<target name="javadoc">
        <javadoc access="private" author="true" destdir="${doc}" nodeprecated="false" nodeprecatedlist="false" noindex="false" nonavbar="false" notree="false" source="1.6" splitindex="true" use="true" version="true">
        	<sourcefiles>
        		<path refid="source.path" />
        	</sourcefiles>
        	
        	<doctitle><![CDATA[Exercise session 1]]></doctitle>
        	
        	<classpath>
        		<path refid="junit.path" />
        		<path refid="ogpdoc.path" />
        	</classpath>
        	
        	<tag name="category" description="Category: " />
        	
        	<taglet name="be.kuleuven.cs.som.taglet.InvarTaglet">
    			<path refid="ogpdoc.path" />
    		</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.PostTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.PreTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.ReturnTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.EffectTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.ThrowsTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.NoteTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
            <link href="http://www.junit.org/junit/javadoc/4.3"/>
            <link href="http://www.cs.kuleuven.ac.be/cwis/research/som/api/"/>
        </javadoc>
    </target>
	
	<target name="javadoc.test">
		<javadoc access="private" author="true" destdir="${doc}" nodeprecated="false" nodeprecatedlist="false" noindex="false" nonavbar="false" notree="false" source="1.6" splitindex="true" use="true" version="true">
        	<sourcefiles>
        		<path refid="source.path" />
        		<path refid="test.path" />
        	</sourcefiles>
        	
        	<doctitle><![CDATA[Exercise session 1]]></doctitle>
        	
        	<classpath>
        		<path refid="junit.path" />
        		<path refid="ogpdoc.path" />
        	</classpath>
        	
        	<tag name="category" description="Category: " />
        	
        	<taglet name="be.kuleuven.cs.som.taglet.InvarTaglet">
    			<path refid="ogpdoc.path" />
    		</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.PostTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.PreTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.ReturnTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.EffectTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.ThrowsTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
        	<taglet name="be.kuleuven.cs.som.taglet.NoteTaglet">
        		<path refid="ogpdoc.path" />
        	</taglet>
        	
            <link href="http://www.junit.org/junit/javadoc/4.3"/>
            <link href="http://www.cs.kuleuven.ac.be/cwis/research/som/api/"/>
        </javadoc>
	</target>
</project>
